# Dockless-city-E-scooter
This is a package of R programing for spatial data analysis of the open data from Dockless city e-scooter routes.
 
1.	OBJECTIVES AND CHALLENGES IN BDA
1.1	Company background information
Voi is a Scandinavian micro-mobility company offering electric scooter and bike-sharing in partnership with cites and local communities. It is founded in August 2018 and after a year could extend its activity over 10 countries, 34 cites, 500 million employees, and 3 million users. Fredrik Hjelm, CEO and co-founder of Voi, stated that to improve their environmental footprint they decided to fulfil three industry-leading sustainability commitments by the end of 2020 including: (1) 100% carbon neutral city operations, (2) 24-month scooter lifespan, and (3) improved modal shift and car replacement rate (Voi-technology-sustainability-statement, 2019).
1.2	Reasons for the company to apply the business data an-alytics
In short, the procedure of using the scooter is as simple as just taking an e-scooter somewhere in the street and activating your user via registered mobile app, riding to your destination. The fee is calculated based on pay per ride or as otherwise under the pricing described in the Voi app. Regarding the different aspects of this business envi-ronment, it is reliant heavily on big data analytics. The different usage of data analytics can be divided based on the following applications.
In this business, the fleet management process is done via Automatic Vehicle Location Systems (AVL) which getting advantages of GPS data of each moving devices such as e-scooter, service vans and so on. The location information is combined with other in-formation and leads to the Geographic Information System (GIS). These data can be utilised for daily operations such as finding and charging those out of charge e-scooters, or for R&D purposes such as improving the fleet efficiency.
First, the user travel behaviour can be analysed through evaluating the detail travel data of different routes, different origins, and destinations areas. One of the basic out-comes can improve the accessibility of the fleet for key customers. For example, by categorising different customer based on their fleet usage, the availability of the facility can be prioritised for those customers who use the services the most. Moreover, the data also can be analysed based on different hours of daytimes, and real-time fleet management can be implemented by optimising the best route for charging service vans.
Second, the maintenance and repair management system can be applied based on each e-scooter data record. The daily data such as the fault reports can help the com-pany for fleet management and delivering the broken devices to the repairment centres. These data can be analysed in longer periods such as yearly for R&D purposes. The data analysis can be combined and involved with the weather conditions and travel be-haviours. As a result, some quality shortage in a specific part of e-scooter can be inves-tigated and improved. Improving the battery life cycle is another example which can be achieved via modelling data based on different recorded parameters. 
Third, improving business models by evaluating key performance indicators. For example, besides the lifetime cost cycle including the long-term cost of maintenance, and the competitive advantages in each city must be reflected for choosing the best pricing approaches. The cost analysis is heavily reliant on the revenue data and differ-ent cost data which is recorded in the company information system. These data must be evaluated and reported to decision-makers periodically to ensure short-term and long-term profitability. 
Fourth, the marketing and sales departments need to identify loyal and potential customers. They should keep their loyal customers satisfied by offering discounts and bonuses. However, they need to observe and control different periodical data for setting very effective incentive plans. The results of spatial business data analytics can lead them to focus on some geographical areas and age-groups, and education levels for developing the business. Moreover, the big data banks of different cities can also be applied for the feasibility study of a new city investment and development case. 
Finally, the online feedback loop can be designed to focus on different customers and aim to find out the success and failure reasons for the service. The data can be em-ployed for system improvement. An effective feedback system should be considered based on customer behaviour and fleet management data such as fault reports. 
1.3	Challenges in the business data analytics for the com-pany
According to Harvey 2017, the big data can be defined in three Vs such as Volume, Velocity, and Variety. I don’t want to discuss the very detailed big data definition here, but this definition confirms that the company surely is dealing with big data in its busi-ness procedure. He also mentioned that regarding the three big data characteristics different challenges can be encountered by the company. These challenges can be such as:
First, dealing with data growth is challenging since there are a variety of data records and these data must be planned for data storage, converged and hyper-converged in-frastructure, and software-defined storage. This challenge can be one of the main con-cerns in this case study.
Second, generating insights in a timely manner is another challenge in dealing with big data. Regarding the impact of the business data analytics discussion in this case study, various type of evaluations must be considered for business success. The most important key success for generating insights is the speed of the process which in-creases the company competitive advantages. As a result, this challenge can be also another potential risk for the case company. 
Third, finding the talent human resource who develop, manage, and run the busi-ness data analytics software with professional knowledge is another challenge. Talent shortage causes the salary level to increase within similar positions. This issue can exist in the case company as well.
Fourth, the next challenge in big data analytics can be integrating data sources. In this case company, for example, the financial information must be integrated with the operational one. As a result, there are very important tasks to keep the most important parameters and correlations with other ones.
Fifth, data validation is another challenge in dealing with big data analysis. It can be solved by making sure the records are accurate, usable, and secure. This issue can be handled by defining data governance process. However, it is very challenging and re-quires a combination of policy changes and technology. This issue can exist in the case company as well.
Sixth, securing big data is also one of the main challenges in this case company. However, the company attempted to minimise the risk of losing privacy through out-sourcing critical IT and financial parts to the most secure international professional companies.
Finally, organizational resistance is one of the main obstacles. It is not easy to see what is the very specific organizational behaviour of decision-makers in this case com-pany. However, regarding the Voi’s sustainability strategy statement, this issue cannot be the main issue for business data analytics (Voi-technology-sustainability-statement, 2019).
2.	DATA PROCESS
2.1	Data acquisition and process
I had no access to the data from the business case company of VOI (the city e-scooter service provider. Instead, I found the open data of travelling by an e-scooter service provider, Dockless, in the united states (Louisville, KY). The data was only provided with the travel information of the routs. The data was collected from 2018 in the city of Lou-isville. For protecting privacy, the customer information is not accessible. As a result, there is no access to individual customer accounts and figures. Moreover, there is no access to any other complementary information about the charging status of the e-scooter. The data includes information about the origin, destination, distance, duration, weekdays, and the date for each travel. 
Regarding the data acquisition limitations, I can only consider the available data and provide a general pattern of user travel behaviours. Therefore, I would focus on the available information applications, and try to get the best result from that. The data pro-cess is deeply connected to the relevant data analysis in the next chapter. However, the general theme of data process includes the following stages. First, I would describe the data and provide more detailed information to do more analysis. In this stage, some parts of the data may be filtered, cleaned, and selected for. The data selection proce-dure would consider data cleaning and verifying data quality. Second, after deciding about the size of the data, I would integrate and combine some variables to the new variables. I would also get help from other available sources of information such as maps to do advanced level categorization and clustering.
2.2	Describing Data
300,550 individual travel data were collected from August 2018 to July 2019. To be honest, at first, I scared from the size and have difficulties with the modelling process in MS excel and ArcGIS software, but after deep learning of R programming I could tack-le the big data analysis issues and even did very advanced level spatial data analytics and visualization include graphs and animations. The data was recorded based on the GPS tracking system and there are inherent inaccuracies in the data navigation system. 
2.3	Data Variables
Regarding the navigation system characteristics and limitations, recording information is described in Table 1. Unfortunately, the vehicle id has been removed by the company for rider privacy, and competition concerns from companies. As a result, there is no access to the vehicle’s maintenance information, charging status, fault reports, and damage reports. For the same reasons, there is no customer Id in the data. As a result, there is no possibility to do a very deep customer behaviour analysis.
Table 1.	Data variables table
Variable	Sample Data	Data description
TripID	0000045c-2677-3a7d-4b73-cad99a57	a unique ID created by Louisville Metro
StartDate	4/28/2019	in MM/DD/YYYY format
StartTime	17:30	rounded to the nearest 15 minutes in HH:MM format
EndDate	4/28/2019	in MM/DD/YYYY format
EndTime	17:45	rounded to the nearest 15 minutes in HH:MM format
TripDuration	31	duration of the trip minutes
TripDistance	1.425	distance of trip in miles based on company route data (3 deci-mal)
StartLatitude	38.253		rounded to nearest 3 decimal places (around 38)
StartLongi-tude	-85.792	rounded to nearest 3 decimal places (around -85)
EndLatitude	38.661		rounded to nearest 3 decimal places (around 38)
EndLongi-tude	-85.732	rounded to nearest 3 decimal places (around -85)
DayOfWeek	2	1-7 based on date, 1 = Sunday through 7 = Saturday
HourNum	12	the hour part of the time from 0-24 of the StartTime

However, regarding the available data, we can provide spatial data analysis for opera-tional planning during different timeframes such as special days, day times, weekdays. During the data analytics, I created many new variables with different formats, com-bined different data sets for clustering data into the right formats and data tables, and did very advanced level spatial data analysis and visualization in R.
3.	DATA ANALYSIS, MODELLING, AND DIS-CUSSION
3.1	Geographical Clustering 
According to Vegel (2016) and based on the typical transportation planning procedures, the route data was clustered into land-use or traffic zones. For simplification of special data analysis, I only used the 9 different traffic zone shape-files in the city. These zones usually are defined based on traffic characteristics such as land-use, travel generation potential and so on. I got access to the traffic map zones in the city, from the same web-link which provided the travel data (https://data.louisvilleky.gov/dataset/dockless-vehicles). Figure 1 shows a map of 9 different traffic zones in the city.
I wrote a sub program's codes in R to combine the CSV file of route data and traffic zone shapefiles. The program clustered each route into the zones, subsequently, the digit number of zones are added as two new integer variables such as “StartZones” and “EndZones”. The result of clustering shows that 99% of the origins and destinations of routes are inside the zones. Figure 2 shows the mapping of 300550*2 points (origins and destinations) within city areas. 
 
                                                       Traffic Zones.


 
Figure 1.	Route origins and destinations with traffic zones
The figure shows the origins and destinations inside the zones by filled red circles and points outside the defined zones by grey circles. The result of clustering was saved into a new CSV file of route data for the next level evaluations. The relevant sub program's codes in R is attached as “points into zones.R” in Appendix A.
3.2	Timeseries visualization for travel frequency
The second subprogram aimed to provide data time-series presentation based on dif-ferent timeframes. Figure 3 and Figure 4 show the daily and weekly travel frequency for all recorded data. Moreover, there are more attached presentation in Appendix B to represent graph and calendar daily presentation of daily travel frequency of the given data.
 
Figure 2.	Daily travel frequency analysis in Dockless based on days in the year

 
Figure 3.	Total travel frequency analysis based on weekdays
Regarding the figures in this part and appendix B, the demand in sunny months such as May, Jun, and July almost doubled compared to other months. This shows the seasonal weather condition can have direct effects on the demand of e-scooter utilisations. Moreover, the analysis shows that in these months during the weekends (mainly Fri-days, and Saturdays which counted around 12 days are more than 1500 travel per day) the demand has been increased compared to workdays. Whereas, in other months there is no such difference between workdays and weekends. 
Considering the unavailability of e-scooter id numbers, and the provided time-series visualizations, it is sceptical to make resource allocation decisions based on the resulted time-series. In other words, the results reflect the met demands and would not provide any information about the unmet ones. However, the results can be still useful for the operation management team for charging and relocating activities. For this purpose, the more detailed spatial analysis would be implemented in the next section. As a result of the time-series analysis in this section some new variables such as year days (1 to 365), and month days (1 to 31) has been created to facilitate data analysis for the next data analysis. The new CSV file was recorded at the end of the subprogram. The relevant subprogram codes in R is attached as “Data_Series visualization.R” in Appendix A.
3.3	Origin Destination (OD) flow analysis and visualizations 
According to Vogel (2016), Origin to Destination flow analysis can be very helpful for strategic, technical and operational planning in micro-mobility sharing services systems such as bike-sharing systems. Therefore, the third subprogram aimed to do OD flow analysis for different traffic zones in different time frames. For this purpose, the pro-gram provided the possibility of filtering different time frames to focus on some specific travel behaviours. Moreover, to plan for the operational activities such as for recharging, and relocating the e-scooters, and decide about the size of fleet (as technical or strate-gic planning) the trip generation and attraction could be represented graphically. The trip generation and attraction, as well as the desire line maps, can provide a comprehensive outlook from the travel demand within different zones. Figures in Appendix C illustrate the graphs and visualizations which resulted from the analysis of this section. Regarding the previous analysis, two different conditions were defined for filtering the data. The condition one was defined as for filtering weekdays of Fridays, Saturdays, and Sundays within May, Jun, and July in 2019. Whereas, the condition two was defined as the rest of the days within May, Jun, and July in 2019. 
Accordingly, the top three average daily travel frequencies in the condition one could be seen from zone 2 to zone 3 (54), zone 3 to zone 2 (32), zone 2 to zone 6 (30), and total travel (386). However, the top three average daily travel frequencies in Condition two are from zone 2 to zone 3 (30), zone 9 to zone 6 (26), zone 2 to zone 6 (26), and total travel (310). 
The most crowded day based on the data table happened in 13/7/2019 (194th day of the year 2019). Therefore, I decided to do a similar analysis for this day. The total travel was 3297 which 1909 of these figures happened completely within the given zones (both of origin and destination of routes). Accordingly, the top three daily travel frequen-cies in this day are from zone 2 to zone 3 (91), zone 2 to zone 5(70), zone 5 to zone 2 (51). 
The recent figures about the total average daily travels in specific timeframes (or the exact total daily for a specific day) can be helpful for the resource allocations and oper-ational planning. However, according to Vogel (2016), the fleet management in such micro-mobility sharing service systems get involved with some optimization processes in operational, technical and strategic planning levels. Again, since there is a lack of other required details like device id numbers, providing such plans with the current in-formation is impossible.
The relevant subprogram codes in R is attached as “O_D flow.R” in Appendix A. This program would provide the possibility of filtering for any time-series and location condi-tions. Therefore, the attached Figures in Appendix C are only a few of many possible visualizations that can be created in this part.
3.4	More detailed visualizations for OD analysis
This section aimed to provide more advanced level visualizations such as map anima-tions. Animation (motion visualization) of changing the trip generation and attraction plot for different time frames could help find some hidden information which may be ne-glected in non-motion visualizations. The last subprogram aimed to provide such com-parative animation files to give more ideas to the analysers.

A sample frame shot of a comparative trip generation and attraction plot trend animation for different days of years between 5 am to 10 am. 

The figure is one shot of the animation provided for the days between the 150th to 165th day of the year 2019 which shows the changing trend in the trip generation and attrac-tion daily frequencies (filtered only between 5 am to 10 am as an example) in different zones. The resulted animation is recorded in “.gif” format and is attached to the final report. This is only one of many possible animations which can be made for the presen-tation purposes. The program would be customised for any time frame filtering. The relevant subprogram codes are attached as “Animation.R” in Appendix A.

REFERENCES
Dockless_vehicles, 2019, https://data.louisvilleky.gov/dataset/dockless-vehicles
Harvey, C., Posted June 5, 2017. Big Data Challenges. https://www.datamation.com/big-data/big-data-challenges.html
Voi-technology-sustainability-statement, 2019. https://www.voiscooters.com/wp-content/uploads/2019 /09/Voi-Technology-Sustainability-Statement-.pdf
Vogel, P., 2016. Service network design of bike sharing systems. In Service Net-work Design of Bike Sharing Systems (pp. 113-135). Springer, Cham.





